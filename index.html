<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/index_style.css" rel="stylesheet">
    <title>Login</title>
</head>
<body>
    <section id="login">
        <div class="containerLogin">
            <h2>Login</h2>
            <form onsubmit="login(event)">
                <input type="email" id="emailField2" placeholder="E-mail">
                <input type="password" id="passwordField2" placeholder="Senha">
                <button type="submit">ENTRAR</button>
            </form>

            <!-- <a href="feed.html" target="">
                <input type="submit" name="acao" value="ENTRAR">
            </a> -->
            <a href="cadastro.html"><h3>Criar uma conta</h3></a>
        </div>
    </section>
</body>

<script>
    async function login(event){
        event.preventDefault();
        console.log('funcao rodando');
        let email = document.getElementById("emailField2").value;
        let password = document.getElementById("passwordField2").value;

        let _data={
            email:email,
            password:password,
        }
        console.log(_data)

        await fetch("http://localhost:3001/api/users/login",{
            method: "POST",
            body: JSON.stringify(_data),
            headers: { "Content-type": "application/json; charset=UTF-8" },
        }).then((res)=>{
            console.log(res);

            if(res.ok == true){
                    console.log('Usu√°rio Logado!')
                   // router.push('/login')
                }else{
                    console.log('Erro no Login')
                }
        })
    }
</script>



</html>